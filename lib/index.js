!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("SAT-ts",[],e):"object"==typeof exports?exports["SAT-ts"]=e():t["SAT-ts"]=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=15)}([function(t,e,n){var o,r,u;!function(i,s){r=[e,n(1),n(2)],o=s,void 0!==(u="function"==typeof o?o.apply(e,r):o)&&(t.exports=u)}(0,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(e),u=o(n),i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,r.default)(this,t),this.x=e,this.y=n}return(0,u.default)(t,[{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"perp",value:function(){var t=this.x;return this.x=this.y,this.y=-t,this}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"rotate",value:function(t){var e=this.x,n=this.y;return this.x=e*Math.cos(t)-n*Math.sin(t),this.y=e*Math.sin(t)+n*Math.cos(t),this}},{key:"reverse",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"normalize",value:function(){var t=this.len();return t>0&&(this.x=this.x/t,this.y=this.y/t),this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"scale",value:function(t,e){return this.x*=t,this.y*=e||t,this}},{key:"project",value:function(t){var e=this.dot(t)/t.len2();return this.x=e*t.x,this.y=e*t.y,this}},{key:"projectN",value:function(t){var e=this.dot(t);return this.x=e*t.x,this.y=e*t.y,this}},{key:"reflect",value:function(t){var e=this.x,n=this.y;return this.project(t).scale(2),this.x-=e,this.y-=n,this}},{key:"reflectN",value:function(t){var e=this.x,n=this.y;return this.projectN(t).scale(2),this.x-=e,this.y-=n,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"len2",value:function(){return this.dot(this)}},{key:"len",value:function(){return Math.sqrt(this.len2())}}]),t}();t.default=i})},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(17),r=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,r.default)(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}()},function(t,e,n){var o,r,u;!function(i,s){r=[e,n(1),n(2),n(6),n(0)],o=s,void 0!==(u="function"==typeof o?o.apply(e,r):o)&&(t.exports=u)}(0,function(t,e,n,o,r){"use strict";function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var i=u(e),s=u(n),a=u(o),l=u(r),c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new l.default,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,i.default)(this,t),this.type="box",this.pos=e,this.w=n,this.h=o}return(0,s.default)(t,[{key:"toPolygon",value:function(){var t=this.pos,e=this.w,n=this.h;return new a.default(new l.default(t.x,t.y),[new l.default,new l.default(e,0),new l.default(e,n),new l.default(0,n)])}}]),t}();t.default=c})},function(t,e,n){t.exports=!n(10)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var o,r,u;!function(i,s){r=[e,n(0),n(16),n(6),n(3)],o=s,void 0!==(u="function"==typeof o?o.apply(e,r):o)&&(t.exports=u)}(0,function(t,e,n,o,r){"use strict";function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.Box=t.Polygon=t.Circle=t.Vector=void 0;var i=u(e),s=u(n),a=u(o),l=u(r);t.Vector=i.default,t.Circle=s.default,t.Polygon=a.default,t.Box=l.default})},function(t,e,n){var o,r,u;!function(i,s){r=[e,n(1),n(2),n(3),n(0)],o=s,void 0!==(u="function"==typeof o?o.apply(e,r):o)&&(t.exports=u)}(0,function(t,e,n,o,r){"use strict";function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var i=u(e),s=u(n),a=u(o),l=u(r),c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new l.default,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,i.default)(this,t),this.type="polygon",this.pos=e,this.angle=0,this.offset=new l.default,this.setPoints(n)}return(0,s.default)(t,[{key:"setPoints",value:function(t){if(!this.points||this.points.length!==t.length){var e=void 0,n=this.calcPoints=[],o=this.edges=[],r=this.normals=[];for(e=0;e<t.length;e++)n.push(new l.default),o.push(new l.default),r.push(new l.default)}return this.points=t,this._recalc(),this}},{key:"_recalc",value:function(){var t=this.calcPoints,e=this.edges,n=this.normals,o=this.points,r=this.offset,u=this.angle,i=o.length,s=void 0;for(s=0;s<i;s++){var a=t[s].copy(o[s]);a.x+=r.x,a.y+=r.y,0!==u&&a.rotate(u)}for(s=0;s<i;s++){var l=t[s],c=s<i-1?t[s+1]:t[0],f=e[s].copy(c).sub(l);n[s].copy(f).perp().normalize()}return this}},{key:"setAngle",value:function(t){return this.angle=t,this._recalc(),this}},{key:"setOffset",value:function(t){return this.offset=t,this._recalc(),this}},{key:"rotate",value:function(t){for(var e=this.points,n=e.length,o=0;o<n;o++)e[o].rotate(t);return this._recalc(),this}},{key:"translate",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.points,o=n.length,r=0;r<o;r++)n[r].x+=t,n[r].y+=e;return this._recalc(),this}},{key:"getAABB",value:function(){for(var t=this.calcPoints,e=t.length,n=t[0].x,o=t[0].y,r=n,u=o,i=1;i<e;i++){var s=t[i];s.x<n?n=s.x:s.x>r&&(r=s.x),s.y<o?o=s.y:s.y>u&&(u=s.y)}return new a.default(this.pos.clone().add(new l.default(n,o)),r-n,u-o).toPolygon()}},{key:"getAABBBox",value:function(){for(var t=this.calcPoints,e=t.length,n=t[0].x,o=t[0].y,r=n,u=o,i=1;i<e;i++){var s=t[i];s.x<n?n=s.x:s.x>r&&(r=s.x),s.y<o?o=s.y:s.y>u&&(u=s.y)}return new a.default(this.pos.clone().add(new l.default(n,o)),r-n,u-o)}},{key:"getCentroid",value:function(){for(var t=this.calcPoints,e=t.length,n=0,o=0,r=0,u=0;u<e;u++){var i=t[u],s=u===e-1?t[0]:t[u+1],a=i.x*s.y-i.y*s.x;n+=(i.x+s.x)*a,o+=(i.y+s.y)*a,r+=a}return r*=3,n/=r,o/=r,new l.default(n,o)}},{key:"toPolygon",value:function(){return this}}]),t}();t.default=c})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var o,r,u;!function(i,s){r=[e,n(1),n(2),n(5)],o=s,void 0!==(u="function"==typeof o?o.apply(e,r):o)&&(t.exports=u)}(0,function(t,e,n,o){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(e),i=r(n),s=function(){function t(){(0,u.default)(this,t),this.a=null,this.b=null,this.overlapN=new o.Vector,this.overlapV=new o.Vector,this.clear()}return(0,i.default)(t,[{key:"clear",value:function(){this.aInB=!0,this.bInA=!0,this.overlap=Number.MAX_VALUE}}]),t}();t.default=s})},function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var o=n(20),r=n(26),u=n(28),i=Object.defineProperty;e.f=n(4)?Object.defineProperty:function(t,e,n){if(o(t),e=u(e,!0),o(n),r)try{return i(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var o,r,u;!function(i,s){r=[e,n(5),n(8)],o=s,void 0!==(u="function"==typeof o?o.apply(e,r):o)&&(t.exports=u)}(0,function(t,e,n){"use strict";function o(t,e,n){for(var o=Number.MAX_VALUE,r=-Number.MAX_VALUE,u=t.length,i=0;i<u;i++){var s=t[i].dot(e);s<o&&(o=s),s>r&&(r=s)}n[0]=o,n[1]=r}function r(t,e,n,r,u,i){var s=v.pop(),a=v.pop(),l=h.pop().copy(e).sub(t),c=l.dot(u);if(o(n,u,s),o(r,u,a),a[0]+=c,a[1]+=c,s[0]>a[1]||a[0]>s[1])return h.push(l),v.push(s),v.push(a),!0;if(i){var f=0;if(s[0]<a[0])if(i.aInB=!1,s[1]<a[1])f=s[1]-a[0],i.bInA=!1;else{var p=s[1]-a[0],y=a[1]-s[0];f=p<y?p:-y}else if(i.bInA=!1,s[1]>a[1])f=s[0]-a[1],i.aInB=!1;else{var d=s[1]-a[0],x=a[1]-s[0];f=d<x?d:-x}var g=Math.abs(f);g<i.overlap&&(i.overlap=g,i.overlapN.copy(u),f<0&&i.overlapN.reverse())}return h.push(l),v.push(s),v.push(a),!1}function u(t,e){var n=t.len2(),o=e.dot(t);return o<0?g:o>n?w:b}function i(t,e){var n=h.pop().copy(t).sub(e.pos),o=e.r*e.r,r=n.len2();return h.push(n),r<=o}function s(t,e,n){for(var o=t.calcPoints,u=o.length,i=e.calcPoints,s=i.length,a=0;a<u;a++)if(r(t.pos,e.pos,o,i,t.normals[a],n))return!1;for(var l=0;l<s;l++)if(r(t.pos,e.pos,o,i,e.normals[l],n))return!1;return n&&(n.a=t,n.b=e,n.overlapV.copy(n.overlapN).scale(n.overlap)),!0}function a(t,e){x.pos.copy(t),d.clear();var n=s(x,e,d);return n&&(n=d.aInB),n}function l(t,e,n){var o=h.pop().copy(e.pos).sub(t.pos),r=t.r+e.r,u=r*r,i=o.len2();if(i>u)return h.push(o),!1;if(n){var s=Math.sqrt(i);n.a=t,n.b=e,n.overlap=r-s,n.overlapN.copy(o.normalize()),n.overlapV.copy(o).scale(n.overlap),n.aInB=t.r<=e.r&&s<=e.r-t.r,n.bInA=e.r<=t.r&&s<=t.r-e.r}return h.push(o),!0}function c(t,n,o){for(var r=h.pop().copy(n.pos).sub(t.pos),i=n.r,s=i*i,a=t.calcPoints,l=a.length,c=h.pop(),f=h.pop(),p=0;p<l;p++){var y=p===l-1?0:p+1,v=0===p?l-1:p-1,d=0,x=null;c.copy(t.edges[p]),f.copy(r).sub(a[p]),o&&f.len2()>s&&(o.aInB=!1);var b=u(c,f);if(b===g){c.copy(t.edges[v]);var P=h.pop().copy(r).sub(a[v]);if((b=u(c,P))===w){var _=f.len();if(_>i)return h.push(r),h.push(c),h.push(f),h.push(P),!1;o&&(o.bInA=!1,x=f.normalize(),d=i-_)}h.push(P)}else if(b===w){if(c.copy(t.edges[y]),f.copy(r).sub(a[y]),(b=u(c,f))===g){var _=f.len();if(_>i)return h.push(r),h.push(c),h.push(f),!1;o&&(o.bInA=!1,x=f.normalize(),d=i-_)}}else{var B=(y+1)%t.points.length,M=c.cross(new e.Vector(t.points[B].x-t.points[p].x,t.points[B].y-t.points[p].y)),A=c.perp().normalize();M<0&&A.reverse();var _=f.dot(A),k=Math.abs(_);if(_>0&&k>i)return h.push(r),h.push(A),h.push(f),!1;o&&(x=A,d=i-_,(_>=0||d<2*i)&&(o.bInA=!1))}x&&o&&Math.abs(d)<Math.abs(o.overlap)&&(o.overlap=d,o.overlapN.copy(x))}return o&&(o.a=t,o.b=n,o.overlapV.copy(o.overlapN).scale(o.overlap)),h.push(r),h.push(c),h.push(f),!0}function f(t,e,n){var o=c(e,t,n);if(o&&n){var r=n.a,u=n.aInB;n.overlapN.reverse(),n.overlapV.reverse(),n.a=n.b,n.b=r,n.aInB=n.bInA,n.bInA=u}return o}Object.defineProperty(t,"__esModule",{value:!0}),t.isSeparatingAxis=r,t.pointInCircle=i,t.testPolygonPolygon=s,t.pointInPolygon=a,t.testCircleCircle=l,t.testPolygonCircle=c,t.testCirclePolygon=f;for(var p=function(t){return t&&t.__esModule?t:{default:t}}(n),h=[],y=0;y<10;y++)h.push(new e.Vector);for(var v=[],y=0;y<5;y++)v.push([]);var d=new p.default,x=new e.Box(new e.Vector,1e-6,1e-6).toPolygon(),g=-1,b=0,w=1})},function(t,e,n){var o,r,u;!function(i,s){r=[e,n(6),n(0),n(3)],o=s,void 0!==(u="function"==typeof o?o.apply(e,r):o)&&(t.exports=u)}(0,function(t,e,n,o){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function u(t){return new s.default(new a.default(t.pos.x,t.pos.y),[new a.default,new a.default(t.w,0),new a.default(t.w,t.h),new a.default(0,t.h)])}function i(t){if(t.r){var e=t.r,n=new a.default(t.pos.x-e,t.pos.y-e);return new l.default(n,2*e,2*e)}for(var o=t.calcPoints,r=o.length,u=o[0].x,i=o[0].y,s=u,c=i,f=1;f<r;f++){var p=o[f];p.x<u?u=p.x:p.x>s&&(s=p.x),p.y<i?i=p.y:p.y>c&&(c=p.y)}var h={x:t.pos.x+u,y:t.pos.y+i};return new l.default(new a.default(h.x,h.y),s-u,c-i)}Object.defineProperty(t,"__esModule",{value:!0}),t.convertBoxToPolygon=u,t.getAABBBox=i;var s=r(e),a=r(n),l=r(o)})},function(t,e,n){var o,r,u;!function(i,s){r=[e,n(5),n(8),n(13),n(14)],o=s,void 0!==(u="function"==typeof o?o.apply(e,r):o)&&(t.exports=u)}(0,function(t,e,n,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAABBBox=t.convertBoxToPolygon=t.testCirclePolygon=t.testPolygonPolygon=t.testPolygonCircle=t.testCircleCircle=t.Response=t.Polygon=t.Circle=t.Vector=t.Box=void 0;var u=function(t){return t&&t.__esModule?t:{default:t}}(n);t.Box=e.Box,t.Vector=e.Vector,t.Circle=e.Circle,t.Polygon=e.Polygon,t.Response=u.default,t.testCircleCircle=o.testCircleCircle,t.testPolygonCircle=o.testPolygonCircle,t.testPolygonPolygon=o.testPolygonPolygon,t.testCirclePolygon=o.testCirclePolygon,t.convertBoxToPolygon=r.convertBoxToPolygon,t.getAABBBox=r.getAABBBox})},function(t,e,n){var o,r,u;!function(i,s){r=[e,n(1),n(2),n(3),n(0)],o=s,void 0!==(u="function"==typeof o?o.apply(e,r):o)&&(t.exports=u)}(0,function(t,e,n,o,r){"use strict";function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var i=u(e),s=u(n),a=u(o),l=u(r),c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new l.default,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,i.default)(this,t),this.type="circle",this.pos=e,this.r=n}return(0,s.default)(t,[{key:"getAABB",value:function(){var t=this.r,e=this.pos.clone().sub(new l.default(t,t));return new a.default(e,2*t,2*t).toPolygon()}},{key:"getAABBBox",value:function(){var t=this.r,e=this.pos.clone().sub(new l.default(t,t));return new a.default(e,2*t,2*t)}},{key:"toPolygon",value:function(){return this.getAABB()}}]),t}();t.default=c})},function(t,e,n){t.exports={default:n(18),__esModule:!0}},function(t,e,n){n(29);var o=n(9).Object;t.exports=function(t,e,n){return o.defineProperty(t,e,n)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var o=n(7);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var o=n(19);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var o=n(7),r=n(11).document,u=o(r)&&o(r.createElement);t.exports=function(t){return u?r.createElement(t):{}}},function(t,e,n){var o=n(11),r=n(9),u=n(21),i=n(25),s=n(24),a=function(t,e,n){var l,c,f,p=t&a.F,h=t&a.G,y=t&a.S,v=t&a.P,d=t&a.B,x=t&a.W,g=h?r:r[e]||(r[e]={}),b=g.prototype,w=h?o:y?o[e]:(o[e]||{}).prototype;h&&(n=e);for(l in n)(c=!p&&w&&void 0!==w[l])&&s(g,l)||(f=c?w[l]:n[l],g[l]=h&&"function"!=typeof w[l]?n[l]:d&&c?u(f,o):x&&w[l]==f?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):v&&"function"==typeof f?u(Function.call,f):f,v&&((g.virtual||(g.virtual={}))[l]=f,t&a.R&&b&&!b[l]&&i(b,l,f)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(12),r=n(27);t.exports=n(4)?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(4)&&!n(10)(function(){return 7!=Object.defineProperty(n(22)("div"),"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var o=n(7);t.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var o=n(23);o(o.S+o.F*!n(4),"Object",{defineProperty:n(12).f})}])});
//# sourceMappingURL=index.js.map